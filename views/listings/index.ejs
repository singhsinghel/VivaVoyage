<% layout('/layout/boilerplate') %>
<link rel="stylesheet" href="../">
<link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
<style>
  .filters {
   padding: 1rem;
   border-radius: 0.5rem;
  }
   
  .filter {
    text-align: center;
    opacity: 0.7;
    margin-bottom: 1rem;
  }

  .filter:hover {
    opacity: 1;
    cursor: pointer;
  }
   .card{
      max-width: 20rem !important;
      height: 25rem !important;
   }
  .tax {
    display: none;
  }

  .tax_switch {
    border: 0.1rem solid black;
    border-radius: 0.5rem;
    padding: 0.5rem;
  }
  .dropdown button{
   padding: 0.6rem !important;
  }

  @media (max-width: 768px) {
    .filters {
      flex-direction: row;
      justify-content: space-around;
    }
    .dropdown {
      width: auto; /* Maintain dropdown width */
      flex: 1; /* Allow dropdown to flex */
      margin-right: 1rem; /* Space between dropdown and switch */
    }
  }
</style>
<div class="filters container mt-3">
   <div class="d-flex justify-content-between align-items-center">
     <div class="dropdown me-2">
       <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false" style="font-size: 0.9rem; padding: 0.4rem 0.5rem;">
         Category
       </button>
       <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
         <li><a class="dropdown-item" href="/listings/Trending"><i class='bx bxs-hot'></i> Trending</a></li>
         <li><a class="dropdown-item" href="/listings/category/Rooms"><i class='bx bx-bed'></i> Rooms</a></li>
         <li><a class="dropdown-item" href="/listings/category/Iconic-cities"><i class='bx bxs-city'></i> Iconic cities</a></li>
         <li><a class="dropdown-item" href="/listings/category/Nature"><i class='bx bxs-leaf'></i> Nature</a></li>
         <li><a class="dropdown-item" href="/listings/category/Castles"><i class='bx bxs-castle'></i> Castles</a></li>
         <li><a class="dropdown-item" href="/listings/category/Amazing-pools"><i class='bx bx-swim'></i> Amazing Pools</a></li>
         <li><a class="dropdown-item" href="/listings/category/Camping"><i class='bx bxs-group'></i> Camping</a></li>
         <li><a class="dropdown-item" href="/listings/category/Farms"><i class='bx bxs-coffee-bean'></i> Farms</a></li>
         <li><a class="dropdown-item" href="/listings/category/Arctic"><i class='bx bx-cloud-snow'></i> Arctic</a></li>
       </ul>
     </div>
 
     <div class="tax_switch">
       <div class="form-check form-switch">
         <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
         <label class="form-check-label" for="flexSwitchCheckDefault" style="font-size: 0.9rem;">Show taxes</label>
       </div>
     </div>
   </div>
 </div>

 <div class="container mt-3">
   <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-3">
     <% for (let listing of listings) { %>
       <div class="col">
         <div class="card listing-card">
           <a href="/listings/<%= listing._id %>">
             <img src="<%= listing.image.url %>" class="card-img-top" alt="listing-img">
           </a>
           <div class="card-body">
             <p class="card-text">
               <a href="/listings/<%= listing._id %>" class="text-dark"><b><%= listing.title %></b></a>, <%= listing.country %>
               <br>
               <%= listing.location %>
               <br>
               &#8377; <%= listing.price %>/night &nbsp;&nbsp;<i class="tax">+18% GST</i>
             </p>
           </div>
         </div>
       </div>
     <% } %>
   </div>
 </div>
 

  <script>
    let toggle = document.getElementById('flexSwitchCheckDefault');
    toggle.addEventListener('click', () => {
      let gst = document.getElementsByClassName('tax');
      for (let i = 0; i < gst.length; i++) {
        gst[i].style.display = gst[i].style.display !== 'inline' ? 'inline' : 'none';
      }
    });

    const filters = document.getElementsByClassName('filter');
  </script>
</body>
